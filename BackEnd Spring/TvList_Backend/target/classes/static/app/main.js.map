{"version":3,"file":"main.js","sourceRoot":"","sources":["main.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAiHA;gBASE,iBAAoB,OAAe,EAAS,iBAA6B,EAAS,kBAAoC;oBATxH,iBA2FC;oBAlFqB,YAAO,GAAP,OAAO,CAAQ;oBAAS,sBAAiB,GAAjB,iBAAiB,CAAY;oBAAS,uBAAkB,GAAlB,kBAAkB,CAAkB;oBAJ9G,SAAI,GAAS,IAAI,CAAC;oBAClB,uBAAkB,GAAG,gDAAsB,CAAC;oBAMlD,OAAO,CAAC,SAAS,CAAC,UAAC,GAAG;wBACpB,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAA,CAAC;wBAC3B,CAAC,CAAC,CAAA;wBACJ,IAAI,iBAAiB,GAAC,MAAM,CAAC,QAAQ,CAAC;wBACtC,kBAAkB,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;oBAC7C,CAAC,CAAC,CAAC;oBAIP;;;;;;;;;sBASE;oBAEE,iBAAiB,CAAC,YAAY,CAAC,SAAS,CAAC,UAAC,GAAG;wBAC3C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAA,CAAC;4BACP,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;4BACzB,KAAI,CAAC,aAAa,EAAE,CAAC;4BACrB,KAAI,CAAC,IAAI,GAAC,KAAK,CAAC;wBAClB,CAAC;oBACH,CAAC,CAAC,CAAC;gBACL,CAAC;gBAtCD,0BAAQ,GAAR;oBACE,IAAI,CAAC,kBAAkB,CAAC,IAAI,GAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACtD,CAAC;gBAuCO,+BAAa,GAArB,UAAsB,GAAU;oBAC9B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAA,CAAC,IAAG,MAAM,CAAC,IAAI,CAAA,CAAA,CAAC,CAAC,CAAC;gBACzD,CAAC;gBAEO,+BAAa,GAArB;gBAEA,CAAC;gBAEH;;;;;kBAKE;gBAEQ,8BAAY,GAApB;oBAAA,iBAQC;oBAPC,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC;oBACf,UAAU,CAAC,UAAC,CAAC;wBACX,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;oBAE3B,CAAC,EAAC,CAAC,CAAC,CAAA;gBAGN,CAAC;gBAEO,qCAAmB,GAA3B;oBACE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBACtC,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,SAAS,EAAE,CAAC;gBAC9C,CAAC;gBA/DD;oBAAC,gBAAS,CAAC,OAAO,CAAC;;sDAAA;gBAvFrB;oBAAC,gBAAS,CAAC;wBACT,QAAQ,EAAE,UAAU;wBACpB,WAAW,EAAE,eAAe;wBAC5B,SAAS,EAAC,CAAC,gCAAc,CAAC;wBAC1B,UAAU,EAAE,CAAC,0BAAiB,EAAC,gCAAc,CAAC;qBAC/C,CAAC;oBACD,oBAAW,CAAC;wBACX;4BACE,IAAI,EAAE,GAAG;4BACT,IAAI,EAAE,OAAO;4BACb,UAAU,EAAE,CAAC,YAAY,CAAC;yBAC3B;wBACD;4BACE,IAAI,EAAE,aAAa;4BACnB,IAAI,EAAE,QAAQ;4BACd,SAAS,EAAE,kCAAe;yBAC3B;wBACD;4BACE,IAAI,EAAE,YAAY;4BAClB,IAAI,EAAE,OAAO;4BACb,SAAS,EAAE,gCAAc;yBAC1B;wBACD;4BACE,IAAI,EAAE,YAAY;4BAClB,IAAI,EAAE,WAAW;4BACjB,SAAS,EAAE,sDAAyB;4BACpC,YAAY,EAAE,IAAI;yBACnB;wBACD;4BACE,IAAI,EAAE,gBAAgB;4BACtB,IAAI,EAAE,iBAAiB;4BACvB,SAAS,EAAE,0DAA2B;yBACvC;wBACC;4BACI,IAAI,EAAE,UAAU;4BAChB,IAAI,EAAE,SAAS;4BACf,SAAS,EAAE,4CAAoB;yBAClC;wBACH;4BACE,IAAI,EAAE,SAAS;4BACf,IAAI,EAAE,QAAQ;4BACd,SAAS,EAAE,kCAAe;yBAC3B;wBACD;4BACE,IAAI,EAAE,eAAe;4BACrB,IAAI,EAAE,OAAO;4BACb,SAAS,EAAE,8CAAqB;yBACjC;wBACD;4BACE,IAAI,EAAE,gBAAgB;4BACtB,IAAI,EAAE,cAAc;4BACpB,SAAS,EAAE,8CAAqB;yBACjC;wBACD;4BACE,IAAI,EAAE,mBAAmB;4BACzB,IAAI,EAAE,iBAAiB;4BACvB,SAAS,EAAE,oDAAwB;yBACpC;wBACD;4BACE,IAAI,EAAE,iBAAiB;4BACvB,IAAI,EAAE,eAAe;4BACrB,SAAS,EAAE,gDAAsB;yBAClC;wBACD;4BACE,IAAI,EAAE,kBAAkB;4BACxB,IAAI,EAAE,gBAAgB;4BACtB,SAAS,EAAE,kDAAuB;yBACnC;wBACD;4BACE,IAAI,EAAE,kBAAkB;4BACxB,IAAI,EAAE,gBAAgB;4BACtB,SAAS,EAAE,kDAAuB;yBACnC;wBACD;4BACE,IAAI,EAAE,iBAAiB;4BACvB,IAAI,EAAE,eAAe;4BACrB,SAAS,EAAE,gDAAsB;yBAClC;qBACF,CAAC;;2BAAA;gBA6FF,cAAC;YAAD,CAAC,AA3FD,IA2FC;YA3FD,6BA2FC,CAAA","sourcesContent":["import {Component,ViewChild,OnInit} from 'angular2/core';\r\nimport {Router,RouteConfig,  ROUTER_DIRECTIVES,CanDeactivate ,ComponentInstruction} from 'angular2/router';\r\nimport {Utilities} from './utilities';\r\nimport {Injector} from 'angular2/core';\r\nimport {modalComponent} from \"./components/modal/modal.component\";\r\nimport {indexComponent} from './components/index/index.component';\r\nimport {perfilComponent} from './components/perfil/perfil.Component';\r\nimport {adminComponent} from './components/admin/admin.Component';\r\nimport {centroUsuarioComponent} from './components/centroUsuario/centroUsuario.component';\r\nimport {userService} from './components/user/user.service';\r\nimport {breadCrumbService} from './components/breadCrumb/breadCrumb.service';\r\nimport {proyeccionesListComponent} from './components/proyecciones/proyeccionesList/proyeccionesList.Component';\r\nimport {proyeccionesDetailComponent} from './components/proyecciones/proyeccionesDetail/proyeccionesDetail.Component';\r\nimport {ActoresListComponent} from \"./components/ActorList/ActoresList.component\";\r\nimport {SeriesComponent} from \"./components/SeriesList/Series.component\";\r\nimport {ActorDetalleComponent} from \"./components/ActorDetalle/ActorDetalle.component\";\r\nimport {PeliculasListComponent} from \"./components/PeliculasList/PeliculasList.component\";\r\nimport {PeliculasListAccionComponent} from \"./components/PeliculasList/PeliculasListAccion.component\";\r\nimport {PeliculasListAventurasComponent} from \"./components/PeliculasList/PeliculasListAventuras.component\";\r\nimport {PeliculasListComediaComponent} from \"./components/PeliculasList/PeliculasListComedia.component\";\r\nimport {PeliculasListInfantilComponent} from \"./components/PeliculasList/PeliculasListInfantil.component\";\r\nimport {PeliculasListSuspenseComponent} from \"./components/PeliculasList/PeliculaListSuspense.component\";\r\nimport {PeliculasListRomanceComponent} from \"./components/PeliculasList/PeliculasListRomance.component\";\r\nimport {SeriesAccionComponent} from \"./components/SeriesList/SeriesAccion.component\";\r\nimport {SeriesAventurasComponent} from \"./components/SeriesList/SeriesAventuras.component\";\r\nimport {SeriesComediaComponent} from \"./components/SeriesList/SeriesComedia.component\";\r\nimport {SeriesInfantilComponent} from \"./components/SeriesList/SeriesInfantil.component\";\r\nimport {SeriesSuspenseComponent} from \"./components/SeriesList/SeriesSuspense.component\";\r\nimport {SeriesRomanceComponent} from \"./components/SeriesList/SeriesRomance.component\";\r\nimport {ActoresService} from \"./components/actores.service\";\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'main-app',\r\n  templateUrl: 'app/main.html',\r\n  providers:[ActoresService],\r\n  directives: [ROUTER_DIRECTIVES,modalComponent]\r\n})\r\n@RouteConfig([\r\n  {\r\n    path: '/',\r\n    name: 'Index',\r\n    redirectTo: [\"/Peliculas\"]\r\n  },\r\n  {\r\n    path: '/perfil/...',\r\n    name: 'Perfil',\r\n    component: perfilComponent\r\n  },\r\n  {\r\n    path: '/admin/...',\r\n    name: 'Admin',\r\n    component: adminComponent\r\n  },\r\n  {\r\n    path: '/peliculas',\r\n    name: 'Peliculas',\r\n    component: proyeccionesListComponent,\r\n    useAsDefault: true\r\n  },\r\n  {\r\n    path: '/peliculas/:id',\r\n    name: 'PeliculasDetail',\r\n    component: proyeccionesDetailComponent\r\n  },\r\n    {\r\n        path: '/Actores',\r\n        name: 'Actores',\r\n        component: ActoresListComponent\r\n    },\r\n  {\r\n    path: '/Series',\r\n    name: 'Series',\r\n    component: SeriesComponent\r\n  },\r\n  {\r\n    path: '/Actores/:id/',\r\n    name: 'Actor',\r\n    component: ActorDetalleComponent\r\n  },\r\n  {\r\n    path: '/Series/Accion',\r\n    name: 'SeriesAccion',\r\n    component: SeriesAccionComponent\r\n  },\r\n  {\r\n    path: '/Series/Aventuras',\r\n    name: 'SeriesAventuras',\r\n    component: SeriesAventurasComponent\r\n  },\r\n  {\r\n    path: '/Series/Comedia',\r\n    name: 'SeriesComedia',\r\n    component: SeriesComediaComponent\r\n  },\r\n  {\r\n    path: '/Series/Infantil',\r\n    name: 'SeriesInfantil',\r\n    component: SeriesInfantilComponent\r\n  },\r\n  {\r\n    path: '/Series/Suspense',\r\n    name: 'SeriesSuspense',\r\n    component: SeriesSuspenseComponent\r\n  },\r\n  {\r\n    path: '/Series/Romance',\r\n    name: 'SeriesRomance',\r\n    component: SeriesRomanceComponent\r\n  }\r\n])\r\n\r\nexport class MainApp implements OnInit{\r\n  ngOnInit():any {\r\n    this._breadCrumbService.host=window.location.origin;\r\n  }\r\n  \r\n  private keep:boolean=true;\r\n  private _componenteACargar = centroUsuarioComponent;\r\n  @ViewChild('modal') private modal:modalComponent;\r\n\r\n  constructor(private _router: Router,private _servicioUsuarios:userService,private _breadCrumbService:breadCrumbService) {\r\n\r\n\r\n    _router.subscribe((val) => {\r\n      _router.recognize(val).then(x=>{\r\n        })\r\n      let abrir_modal_login=window.location;\r\n      _breadCrumbService.generateBreadCrumb(val);\r\n    });\r\n\r\n\r\n\r\n/*\r\n    V1\r\n    Actualmente Angular 2 no soporta manipulacion de #\r\n    https://github.com/angular/angular/issues/7215\r\n    window.location.hash=window.location.hash;\r\n    _router.subscribe((val) => {\r\n      let abrir_modal_login=window.location.hash;\r\n      this.abrirModal(abrir_modal_login);\r\n    });\r\n*/\r\n\r\n    _servicioUsuarios.loginSucces$.subscribe((suc) =>{\r\n      if (suc){\r\n        this.modal.toggleModal();\r\n        this.cargarUsuario();\r\n        this.keep=false;\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  private navigateByUrl(url:string){\r\n    this._router.navigateByUrl(url).then(x=>{return true});\r\n  }\r\n\r\n  private cargarUsuario(){\r\n\r\n  }\r\n\r\n/*\r\n  V1\r\n  private mostrarLogin(){\r\n    window.location.hash=\"#login\";\r\n  }\r\n*/\r\n\r\n  private mostrarLogin(){\r\n    this.keep=true;\r\n    setTimeout((a)=>{\r\n      this.modal.toggleModal();\r\n\r\n    },0)\r\n\r\n\r\n  }\r\n\r\n  private _desconectarUsuario(){\r\n    this._router.navigate(['/Peliculas']);\r\n    this._servicioUsuarios.logOut().subscribe();\r\n  }\r\n\r\n\r\n  /*\r\n  V1\r\n  private abrirModal(hash:string){\r\n    switch (hash){\r\n      case \"#login\":\r\n        this._mostrar=true;\r\n      break;\r\n      case \"#register\":\r\n      break;\r\n      case \"\":\r\n        this._mostrar=false;\r\n      break;\r\n    }\r\n  }\r\n*/\r\n\r\n\r\n\r\n}\r\n"]}