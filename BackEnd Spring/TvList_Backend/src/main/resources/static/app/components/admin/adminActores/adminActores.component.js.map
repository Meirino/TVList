{"version":3,"file":"adminActores.component.js","sourceRoot":"","sources":["adminActores.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;YAYA;gBAOI,+BAAmB,OAAuB;oBAAvB,YAAO,GAAP,OAAO,CAAgB;oBANnC,eAAU,GAAS,IAAI,uBAAK,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,CAAC;oBACtD,UAAK,GAAW,EAAE,CAAC;oBAMtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;gBACzC,CAAC;gBAED,2CAAW,GAAX;oBAAA,iBAgBC;oBAfG,EAAE,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;wBACX,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACnD,aAAa,CAAC,QAAQ,GAAG,UAAC,IAAI,EAAE,MAAM,EAAE,OAAO;4BAC3C,EAAE,CAAC,CAAC,MAAM,IAAI,GAAG,CAAC,CAAA,CAAC;gCACf,KAAI,CAAC,UAAU,CAAC,GAAG,GAAG,IAAI,CAAC;gCAC3B,OAAO,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;gCACxC,KAAI,CAAC,UAAU,CAAC,GAAG,GAAG,GAAG,CAAC;gCAC1B,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;gCAC/B,KAAI,CAAC,cAAc,CAAC,KAAI,CAAC,KAAK,EAAE,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;gCACvD,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,uBAAK,CAAC,CAAC,EAAE,KAAI,CAAC,UAAU,CAAC,MAAM,EAAE,KAAI,CAAC,UAAU,CAAC,WAAW,EAAE,KAAI,CAAC,UAAU,CAAC,GAAG,EAAE,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;4BAC5I,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACJ,OAAO,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;4BAC1C,CAAC;wBACL,CAAC,CAAA;oBACL,CAAC;gBACL,CAAC;gBAED,6CAAa,GAAb,UAAc,KAAW;oBACrB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;oBACtB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACpD,CAAC;gBAED,8CAAc,GAAd,UAAe,MAAa,EAAE,WAAoB;oBAC9C,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACpC,CAAC;gBAED,2CAAW,GAAX,UAAY,MAAM;oBACd,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACvC,CAAC;gBA7CL;oBAAC,gBAAS,CAAC;wBACP,WAAW,EAAE,gEAAgE;wBAC7E,SAAS,EAAC,CAAC,gCAAc,CAAC;qBAC7B,CAAC;;yCAAA;gBA2CF,4BAAC;YAAD,CAAC,AAzCD,IAyCC;YAzCD,yDAyCC,CAAA","sourcesContent":["/**\r\n * Created by Javi on 20/05/2016.\r\n */\r\nimport {Component}  from 'angular2/core';\r\nimport {RouteParams, Router} from 'angular2/router';\r\nimport {Actor, ActoresService} from \"../../actores.service\";\r\n\r\n@Component({\r\n    templateUrl: './app/components/admin/adminActores/adminActores.template.html',\r\n    providers:[ActoresService]\r\n})\r\n\r\nexport class adminActoresComponent {\r\n    public nuevoActor:Actor = new Actor(0, '', '', '#', ['','']);\r\n    public obras: string = '';\r\n    public lista:Actor[];\r\n    public busq:string;\r\n    public file:File;\r\n\r\n    constructor(public service: ActoresService) {\r\n        this.lista = this.service.getDatos();\r\n    }\r\n\r\n    anadirActor() {\r\n        if(this.file) {\r\n            let multipartItem = this.service.upload(this.file);\r\n            multipartItem.callback = (data, status, headers) => {\r\n                if (status == 200){\r\n                    this.nuevoActor.IMG = data;\r\n                    console.debug(\"File has been uploaded\");\r\n                    this.nuevoActor.IMG = \"#\";\r\n                    this.service.upload(this.file);\r\n                    this.separarStrings(this.obras, this.nuevoActor.obras);\r\n                    this.service.anadirActor(new Actor(0, this.nuevoActor.nombre, this.nuevoActor.descripcion, this.nuevoActor.IMG, this.nuevoActor.obras));\r\n                } else {\r\n                    console.error(\"Error uploading file\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    eliminarActor(actor:Actor) {\r\n        console.log(actor.id);\r\n        this.service.eliminarActor(actor.id.toString());\r\n    }\r\n\r\n    separarStrings(cadena:string, arrayString:string[]) {\r\n        arrayString = cadena.split(',');\r\n    }\r\n\r\n    SelectFiles($event) {\r\n        this.file = $event.target.files[0];\r\n    }\r\n}"]}