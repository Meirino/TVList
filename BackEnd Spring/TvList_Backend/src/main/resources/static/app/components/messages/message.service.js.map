{"version":3,"file":"message.service.js","sourceRoot":"","sources":["message.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAMA;gBAsBI,wBAAoB,YAAwB;oBAAxB,iBAAY,GAAZ,YAAY,CAAY;oBAnBpC,sBAAiB,GAAW;wBAChC,IAAI,sBAAO,CAAC,CAAC,EAAC,CAAC,EAAC,iCAAiC,EAAC,WAAW,CAAC;wBAC9D,IAAI,sBAAO,CAAC,CAAC,EAAC,CAAC,EAAC,kBAAkB,EAAC,YAAY,CAAC;wBAChD,IAAI,sBAAO,CAAC,CAAC,EAAC,CAAC,EAAC,gCAAgC,EAAC,QAAQ,CAAC;wBAC1D,IAAI,sBAAO,CAAC,CAAC,EAAC,CAAC,EAAC,YAAY,EAAC,aAAa,CAAC;wBAC3C,IAAI,sBAAO,CAAC,CAAC,EAAC,CAAC,EAAC,cAAc,EAAC,OAAO,CAAC;wBACvC,IAAI,sBAAO,CAAC,CAAC,EAAC,CAAC,EAAC,UAAU,EAAC,MAAM,CAAC;qBACrC,CAAC;oBAEM,+BAA0B,GAAY;wBAC1C,CAAC,CAAC,EAAC,CAAC,CAAC;wBACL,CAAC,CAAC,EAAC,CAAC,CAAC;wBACL,CAAC,CAAC,EAAC,CAAC,CAAC;wBACL,CAAC,CAAC,EAAC,CAAC,CAAC;wBACL,CAAC,CAAC,EAAC,CAAC,CAAC;wBACL,CAAC,CAAC,EAAC,CAAC,CAAC;qBACR,CAAC;gBAG4C,CAAC;gBAExC,yCAAgB,GAAvB,UAAwB,MAAa;oBACjC,IAAI,4BAA4B,GAAC,eAAU,CAAE,SAAS,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;oBACxF,IAAI,sCAAsC,GAAE,4BAA4B,CAAC,MAAM,CAAC,UAAC,CAAC;wBAC9E,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,IAAE,MAAM,CAAA;oBACvB,CAAC,CAAC,CAAC,GAAG,CAAC,UAAC,CAAC;wBACL,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;oBACf,CAAC,CAAC,CAAC;oBACH,IAAI,4BAA4B,GAAG,eAAU,CAAC,SAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;oBAChF,IAAI,WAAW,GAAE,sCAAsC,CAAC,OAAO,CAAC,UAAC,YAAY;wBACzE,MAAM,CAAC,4BAA4B,CAAC,MAAM,CAAC,UAAC,UAAU;4BAClD,MAAM,CAAC,YAAY,IAAE,UAAU,CAAC,EAAE,CAAC;wBACvC,CAAC,CAAC,CAAA;oBACN,CAAC,CAAC,CAAA;oBAEF,IAAI,QAAQ,GAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;oBACnD,IAAI,qBAAqB,GAAC,WAAW,CAAC,OAAO,CAAC,UAAA,CAAC;wBAC/C,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAA,CAAC,IAAG,MAAM,CAAA,CAAC,EAAC,UAAU,EAAC,CAAC,EAAC,OAAO,EAAC,CAAC,EAAC,CAAC,CAAA,CAAA,CAAC,CAAC,CAAC;oBAC/D,CAAC,CAAC,CAAC;oBACC,MAAM,CAAC,qBAAqB,CAAC;gBAEjC,CAAC;gBA7CL;oBAAC,iBAAU,EAAE;;kCAAA;gBA+Cb,qBAAC;YAAD,CAAC,AA9CD,IA8CC;YA9CD,2CA8CC,CAAA","sourcesContent":["import {Injectable} from 'angular2/core';\r\nimport {Message} from './message.data';\r\nimport {Observable} from 'rxjs/Rx';\r\nimport {userService} from '../user/user.service'\r\n\r\n@Injectable()\r\nexport class messageService{\r\n\r\n\r\n    private _listaComentarios:Message[]=[\r\n        new Message(0,4,'Muy Buena, divertida fascinante','Muy buena'),\r\n        new Message(1,2,'Un poco aburrida','Del monton'),\r\n        new Message(2,5,'Lo mejor que se ha hecho nunca','WOWOWW'),\r\n        new Message(3,3,'Entretiene','No esta mal'),\r\n        new Message(4,0,'Ni de gratis','AARGh'),\r\n        new Message(5,1,'Me dormi','Zzzz')\r\n    ];\r\n\r\n    private _listaComentarios_Usuarios:number[][]=[\r\n        [0,0],\r\n        [1,2],\r\n        [2,1],\r\n        [3,1],\r\n        [4,2],\r\n        [5,1]\r\n    ];\r\n\r\n\r\n    constructor(private _userService:userService){}\r\n\r\n    public getMesFromUserID(userID:number){\r\n        let listadoValoracionesYUsuarios=Observable. fromArray(this._listaComentarios_Usuarios);\r\n        let listadoFiltradoConValoracionDelUsuario= listadoValoracionesYUsuarios.filter((x)=>{\r\n            return x[1]==userID\r\n        }).map((x)=>{\r\n            return x[0]\r\n        });\r\n        let listadoComentariosDelUsuario = Observable.fromArray(this._listaComentarios);\r\n        let comentarios= listadoFiltradoConValoracionDelUsuario.flatMap((idcomentario)=>{\r\n            return listadoComentariosDelUsuario.filter((comentario)=>{\r\n                return idcomentario==comentario.id;\r\n            })\r\n        })\r\n\r\n        let userinfo=this._userService.getUserByID(userID);\r\n        let comentarioConUserInfo=comentarios.flatMap(x=>{\r\n        return userinfo.map(y=>{return({comentario:x,usuario:y})});\r\n    });\r\n        return comentarioConUserInfo;\r\n\r\n    }\r\n    \r\n}\r\n"]}